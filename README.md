# Запуск
### 1 вариант Docker
Нужен docker и docker-compose

Запустить:

```make docker``` - Соберет контейнер и запустит его

### 2 вариант Локальный запуск

Заполнить в файле ```.env.example``` настройки к postgresql
```
DB_USER=     #Имя пользователя
DB_PASSWORD= #Пароль пользователя
DB_NAME=     #Имя базы данных
DB_PORT=     #Порт
DB_HOST=     #Имя хоста
```
Переименовать в ```.env```

Запустить:

```make env``` - Экспортирует переменные окружения

``` make run ``` - Соберет проект локально и запустит приложение

# Вопросы и решения
### Как ускорить работу с бд
Решение: использовать кэширование данных в Redis, находится в памяти потому скорость работы с бд значительно выше
### Какой тип кэширования использовать
Тут есть несколько вариантов
#### Write Behind/Write through
* Write Behind - асинхронная запись в бд, не постоянная синхронизация с бд, но быстро
* Write through - синхронная запись в бд при каждом запросе, медленнее но надежнее

Плюсы: быстрый доступ ко всем данным, доступ всегда к последней информации

Минусы: вся информация находится в оперативной памяти, что может быть достаточно затратно

#### Сache prefetching
* Сache prefetching - предзагрузка данных из бд, можно загружать основываясь на часто используемые запросы, паттерны запросов

Плюсы: также быстрый доступ ко всем данным и всегда последняя информация, можно использовать сложные запросы к данным

Минусы: для ускорения вся информация должна быть предзагружена в кэш

#### Cache-aside
* Cache-aside - обычная работа с бд, загрузка частых запросов в кэш

Плюсы: оптимальное кэширование, загрузка данных только по необходимости, при повторном запросе скорость получения данных увеличивается т.к. уже есть в кэше

Минусы: запись идет в бд, а не кэш, данные могут быть устаревшими, но в нашем случае это подходит

Решение: т.к. на чтение будет происходить большинство запросов, количество баннеров может быть большим и запросы могут быть сложнее ключ-значение, то выбор пал на Cache-aside.